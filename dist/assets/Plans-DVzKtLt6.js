import{u as U,i as T,r as i,j as e,m as l,C as u,e as x,n,c as f,d as h,f as j,B as g,T as k,Z as M}from"./index-DAuyzkNb.js";import{I as O}from"./input-B5KGxyvP.js";import{D as A}from"./dollar-sign-B-bMLu8W.js";import{C as z}from"./check-circle-Bd_YFg91.js";import{T as _}from"./target-UAKmQD0g.js";import{S as $}from"./star-CLzRBNF9.js";const H=()=>{const{user:t}=U(),{toast:o}=T(),[y,w]=i.useState([]),[N,b]=i.useState([]),[a,d]=i.useState(null),[r,v]=i.useState(""),[S,I]=i.useState(!0);i.useEffect(()=>{setTimeout(()=>{w([{id:"1",name:"Starter",description:"Parfait pour débuter votre parcours d'investissement",min_amount:50,max_amount:500,profit_target:15,duration_days:30,features:["Investissement minimum: 50€","Profit cible: 15%","Durée: 30 jours","Support email","Rapports hebdomadaires"],is_active:!0,created_at:new Date().toISOString()},{id:"2",name:"Pro",description:"Pour les investisseurs sérieux qui veulent maximiser leurs gains",min_amount:200,max_amount:2e3,profit_target:25,duration_days:45,features:["Investissement minimum: 200€","Profit cible: 25%","Durée: 45 jours","Support prioritaire","Analyses avancées","Rapports quotidiens","Stratégies personnalisées"],is_active:!0,created_at:new Date().toISOString()},{id:"3",name:"Expert",description:"Performance maximale pour les investisseurs expérimentés",min_amount:500,max_amount:1e4,profit_target:35,duration_days:60,features:["Investissement minimum: 500€","Profit cible: 35%","Durée: 60 jours","Support dédié","Stratégies exclusives","Consultation personnalisée","Rapports en temps réel","Accès VIP aux événements"],is_active:!0,created_at:new Date().toISOString()}]),b([{id:"1",user_id:(t==null?void 0:t.id)||"",plan_id:"2",amount:500,profit_target:125,current_profit:45,status:"active",start_date:new Date(Date.now()-15*24*60*60*1e3).toISOString(),end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date(Date.now()-15*24*60*60*1e3).toISOString()},{id:"2",user_id:(t==null?void 0:t.id)||"",plan_id:"1",amount:100,profit_target:15,current_profit:8,status:"completed",start_date:new Date(Date.now()-45*24*60*60*1e3).toISOString(),end_date:new Date(Date.now()-15*24*60*60*1e3).toISOString(),created_at:new Date(Date.now()-45*24*60*60*1e3).toISOString()}]),I(!1)},1e3)},[t==null?void 0:t.id]);const D=()=>{if(!a||!r){o("Veuillez sélectionner un plan et entrer un montant","error");return}const s=parseFloat(r);if(s<a.min_amount||s>a.max_amount){o(`Le montant doit être entre ${n.formatEUR(a.min_amount)} et ${n.formatEUR(a.max_amount)}`,"error");return}if(s>((t==null?void 0:t.total_invested)||0)){o("Solde insuffisant pour cet investissement","error");return}o("Investissement créé avec succès !","success"),v(""),d(null)},P=s=>{switch(s.toLowerCase()){case"starter":return e.jsx(M,{className:"w-6 h-6"});case"pro":return e.jsx(k,{className:"w-6 h-6"});case"expert":return e.jsx($,{className:"w-6 h-6"});default:return e.jsx(_,{className:"w-6 h-6"})}},C=s=>{switch(s){case"active":return"text-green-600 bg-green-100";case"completed":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},E=s=>{switch(s){case"active":return"Actif";case"completed":return"Terminé";case"pending":return"En attente";default:return"Inconnu"}};return S?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Packs d'Investissement"}),e.jsx("p",{className:"text-muted-foreground",children:"Choisissez le plan qui correspond à vos objectifs d'investissement"})]}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(u,{className:"bg-gradient-to-r from-crypto-primary to-crypto-secondary text-white",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-90",children:"Solde disponible"}),e.jsx("p",{className:"text-2xl font-bold",children:n.formatEUR((t==null?void 0:t.total_invested)||0)})]}),e.jsx(A,{className:"w-8 h-8 opacity-80"})]})})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((s,c)=>e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},children:e.jsxs(u,{className:`relative h-full ${s.name==="Pro"?"ring-2 ring-crypto-primary":""}`,children:[s.name==="Pro"&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-crypto-primary text-white px-3 py-1 rounded-full text-sm font-medium",children:"Populaire"})}),e.jsxs(f,{children:[e.jsxs(h,{className:"flex items-center space-x-2",children:[P(s.name),e.jsx("span",{children:s.name})]}),e.jsx(j,{children:s.description})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit cible"}),e.jsxs("span",{className:"font-bold text-green-600",children:[s.profit_target,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Durée"}),e.jsxs("span",{className:"font-medium",children:[s.duration_days," jours"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Min/Max"}),e.jsxs("span",{className:"font-medium",children:[n.formatEUR(s.min_amount)," - ",n.formatEUR(s.max_amount)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Inclus :"}),e.jsxs("ul",{className:"space-y-1",children:[s.features.slice(0,3).map((m,p)=>e.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(z,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:m})]},p)),s.features.length>3&&e.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",s.features.length-3," autres avantages"]})]})]}),e.jsx(g,{className:"w-full",onClick:()=>d(s),children:"Investir maintenant"})]})]})},s.id))}),a&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>d(null),children:e.jsxs(u,{className:"w-full max-w-md",onClick:s=>s.stopPropagation(),children:[e.jsxs(f,{children:[e.jsxs(h,{children:["Investir dans ",a.name]}),e.jsx(j,{children:"Entrez le montant que vous souhaitez investir"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Montant d'investissement"}),e.jsx(O,{type:"number",placeholder:`Min: ${n.formatEUR(a.min_amount)}`,value:r,onChange:s=>v(s.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Montant entre ",n.formatEUR(a.min_amount)," et ",n.formatEUR(a.max_amount)]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Profit cible:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[a.profit_target,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Durée:"}),e.jsxs("span",{className:"font-medium",children:[a.duration_days," jours"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Profit estimé:"}),e.jsx("span",{className:"font-medium",children:r?n.formatEUR(parseFloat(r)*a.profit_target/100):"€0.00"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(g,{onClick:D,className:"flex-1",children:"Confirmer l'investissement"}),e.jsx(g,{variant:"outline",onClick:()=>d(null),children:"Annuler"})]})]})]})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(h,{children:"Mes Investissements"}),e.jsx(j,{children:"Suivez vos investissements actifs et leur progression"})]}),e.jsx(x,{children:N.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucun investissement actif"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Commencez par investir dans un de nos packs ci-dessus"})]}):e.jsx("div",{className:"space-y-4",children:N.map(s=>{const c=y.find(R=>R.id===s.plan_id),m=s.current_profit/s.profit_target*100,p=Math.ceil((new Date(s.end_date).getTime()-new Date().getTime())/(1e3*60*60*24));return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:[c==null?void 0:c.name," Pack"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Investi le ",n.formatDate(s.start_date)]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(s.status)}`,children:E(s.status)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Montant investi:"}),e.jsx("span",{className:"font-medium",children:n.formatEUR(s.amount)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Profit actuel:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[n.formatEUR(s.current_profit)," / ",n.formatEUR(s.profit_target)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Progression"}),e.jsxs("span",{children:[m.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m,100)}%`}})})]}),s.status==="active"&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Temps restant:"}),e.jsxs("span",{className:"font-medium",children:[p," jours"]})]})]})]},s.id)})})})]})})]})};export{H as Plans};
//# sourceMappingURL=Plans-DVzKtLt6.js.map
