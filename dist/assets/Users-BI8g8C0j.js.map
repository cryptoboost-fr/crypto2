{"version":3,"file":"Users-BI8g8C0j.js","sources":["../../src/pages/admin/Users.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  Users as UsersIcon, \n  Search, \n  Filter, \n  MoreHorizontal,\n  CheckCircle,\n  XCircle,\n  Eye,\n  Edit\n} from 'lucide-react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { utils } from '@/lib/supabase';\nimport { User } from '@/types';\n\nexport const Users = () => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n\n  // Mock data\n  useEffect(() => {\n    setTimeout(() => {\n      setUsers([\n        {\n          id: '1',\n          email: 'john@example.com',\n          full_name: 'John Doe',\n          role: 'client',\n          status: 'active',\n          total_invested: 1500,\n          total_profit: 250,\n          created_at: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),\n          updated_at: new Date().toISOString(),\n        },\n        {\n          id: '2',\n          email: 'jane@example.com',\n          full_name: 'Jane Smith',\n          role: 'client',\n          status: 'active',\n          total_invested: 800,\n          total_profit: 120,\n          created_at: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),\n          updated_at: new Date().toISOString(),\n        },\n        {\n          id: '3',\n          email: 'bob@example.com',\n          full_name: 'Bob Johnson',\n          role: 'client',\n          status: 'banned',\n          total_invested: 0,\n          total_profit: 0,\n          created_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),\n          updated_at: new Date().toISOString(),\n        }\n      ]);\n      setLoading(false);\n    }, 1000);\n  }, []);\n\n  const getStatusColor = (status: string) => {\n    return status === 'active' ? 'text-green-600 bg-green-100' : 'text-red-600 bg-red-100';\n  };\n\n  const getStatusText = (status: string) => {\n    return status === 'active' ? 'Actif' : 'Banni';\n  };\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = statusFilter === 'all' || user.status === statusFilter;\n    \n    return matchesSearch && matchesStatus;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n      >\n        <h1 className=\"text-3xl font-bold\">Gestion des Utilisateurs</h1>\n        <p className=\"text-muted-foreground\">\n          GÃ©rez les utilisateurs de la plateforme\n        </p>\n      </motion.div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n      >\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex flex-col md:flex-row gap-4\">\n              <div className=\"flex-1\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                  <Input\n                    placeholder=\"Rechercher par nom ou email...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"pl-10\"\n                  />\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <select\n                  value={statusFilter}\n                  onChange={(e) => setStatusFilter(e.target.value)}\n                  className=\"px-3 py-2 border rounded-md text-sm\"\n                >\n                  <option value=\"all\">Tous les statuts</option>\n                  <option value=\"active\">Actifs</option>\n                  <option value=\"banned\">Bannis</option>\n                </select>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n      >\n        <Card>\n          <CardHeader>\n            <CardTitle>Utilisateurs ({filteredUsers.length})</CardTitle>\n            <CardDescription>\n              Liste des utilisateurs inscrits\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {filteredUsers.map((user) => (\n                <div key={user.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-10 h-10 bg-crypto-primary rounded-full flex items-center justify-center\">\n                      <span className=\"text-white font-medium\">\n                        {user.full_name.charAt(0)}\n                      </span>\n                    </div>\n                    <div>\n                      <p className=\"font-medium\">{user.full_name}</p>\n                      <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Inscrit le {utils.formatDate(user.created_at)}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(user.status)}`}>\n                        {getStatusText(user.status)}\n                      </span>\n                    </div>\n                    <p className=\"text-sm font-medium\">\n                      {utils.formatEUR(user.total_invested)} investis\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {utils.formatEUR(user.total_profit)} de profits\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}; "],"names":["Users","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","useEffect","getStatusColor","status","getStatusText","filteredUsers","user","matchesSearch","matchesStatus","jsx","jsxs","motion","Card","CardContent","Search","Input","e","CardHeader","CardTitle","CardDescription","utils"],"mappings":"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"}