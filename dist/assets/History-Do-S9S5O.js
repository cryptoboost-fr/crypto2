import{g as b,u as C,r as a,j as e,m as n,B as c,C as u,e as x,c as D,d as I,f as T,n as i}from"./index-CObHhl8H.js";import{I as k}from"./input-DnBYjSnk.js";import{S as A}from"./search-BUmQN2JN.js";import{D as E}from"./download-App1X-K_.js";import{U as R}from"./upload-BD_erXyM.js";import{A as O}from"./arrow-right-DJd7IPV0.js";import{C as p}from"./clock-Cvptf0Hh.js";import{X as H}from"./x-circle-gEmDHBXj.js";import{C as z}from"./check-circle-BOZoC8Ju.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=b("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),K=()=>{const{user:s}=C(),[h,j]=a.useState([]),[f,g]=a.useState([]),[r,d]=a.useState("transactions"),[v,y]=a.useState(""),[N,w]=a.useState("all"),[S,_]=a.useState(!0);a.useEffect(()=>{setTimeout(()=>{j([{id:"1",user_id:(s==null?void 0:s.id)||"",type:"deposit",crypto_type:"BTC",amount:.001,usd_value:500,status:"approved",fee_amount:1e-5,created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{id:"2",user_id:(s==null?void 0:s.id)||"",type:"withdrawal",crypto_type:"ETH",amount:.5,usd_value:200,status:"pending",fee_amount:.005,created_at:new Date(Date.now()-1*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-1*24*60*60*1e3).toISOString()}]),g([{id:"1",user_id:(s==null?void 0:s.id)||"",plan_id:"2",amount:500,profit_target:125,current_profit:45,status:"active",start_date:new Date(Date.now()-15*24*60*60*1e3).toISOString(),end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date(Date.now()-15*24*60*60*1e3).toISOString()}]),_(!1)},1e3)},[s==null?void 0:s.id]);const l=t=>{switch(t){case"approved":case"completed":return e.jsx(z,{className:"w-4 h-4 text-green-500"});case"pending":case"active":return e.jsx(p,{className:"w-4 h-4 text-yellow-500"});case"rejected":case"cancelled":return e.jsx(H,{className:"w-4 h-4 text-red-500"});default:return e.jsx(p,{className:"w-4 h-4 text-gray-500"})}},o=t=>{switch(t){case"approved":return"Approuvé";case"pending":return"En attente";case"rejected":return"Rejeté";case"active":return"Actif";case"completed":return"Terminé";case"cancelled":return"Annulé";default:return"Inconnu"}},m=t=>{switch(t){case"approved":case"completed":return"text-green-600 bg-green-100";case"pending":case"active":return"text-yellow-600 bg-yellow-100";case"rejected":case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return S?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Historique"}),e.jsx("p",{className:"text-muted-foreground",children:"Consultez l'historique de vos transactions et investissements"})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[e.jsx(c,{variant:r==="transactions"?"default":"ghost",size:"sm",onClick:()=>d("transactions"),className:"flex-1",children:"Transactions"}),e.jsx(c,{variant:r==="investments"?"default":"ghost",size:"sm",onClick:()=>d("investments"),className:"flex-1",children:"Investissements"})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(u,{children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(k,{placeholder:"Rechercher...",value:v,onChange:t=>y(t.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:N,onChange:t=>w(t.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"approved",children:"Approuvé"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"rejected",children:"Rejeté"})]}),e.jsx(c,{variant:"outline",size:"sm",children:e.jsx(q,{className:"w-4 h-4"})})]})]})})})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(u,{children:[e.jsxs(D,{children:[e.jsx(I,{children:r==="transactions"?"Transactions":"Investissements"}),e.jsx(T,{children:r==="transactions"?"Historique de vos dépôts et retraits":"Historique de vos investissements"})]}),e.jsx(x,{children:r==="transactions"?e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.type==="deposit"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:t.type==="deposit"?e.jsx(E,{className:"w-5 h-5"}):e.jsx(R,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium capitalize",children:[t.type==="deposit"?"Dépôt":"Retrait"," ",t.crypto_type]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.formatCryptoAmount(t.amount,t.crypto_type,t.usd_value)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l(t.status),e.jsx("span",{className:`text-sm font-medium ${m(t.status)}`,children:o(t.status)})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.formatDate(t.created_at)})]})]},t.id))}):e.jsx("div",{className:"space-y-4",children:f.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx(O,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Investissement #",t.id]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.formatEUR(t.amount)," • ",i.formatEUR(t.profit_target)," cible"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l(t.status),e.jsx("span",{className:`text-sm font-medium ${m(t.status)}`,children:o(t.status)})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.formatDate(t.created_at)})]})]},t.id))})})]})})]})};export{K as History};
//# sourceMappingURL=History-Do-S9S5O.js.map
