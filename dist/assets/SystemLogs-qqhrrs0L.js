import{r as i,j as e,m as l,B as d,C as t,e as a,c as v,d as w,f as b,n as S,A as C}from"./index-CObHhl8H.js";import{I as A}from"./input-DnBYjSnk.js";import{D}from"./download-App1X-K_.js";import{S as T}from"./search-BUmQN2JN.js";import{F as I}from"./filter-CV4g_VlK.js";import{E as L}from"./eye-CKZjzqXX.js";import{I as m}from"./info-BkLuq1dn.js";import{A as E}from"./activity-BYFVHbro.js";import{C as z}from"./check-circle-BOZoC8Ju.js";const k=()=>{const[r,u]=i.useState([]),[h,p]=i.useState(!0),[c,j]=i.useState(""),[o,f]=i.useState("all");i.useEffect(()=>{setTimeout(()=>{u([{id:"1",user_id:"user1",action:"user_login",details:{ip:"192.168.1.1",user_agent:"Mozilla/5.0..."},ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",created_at:new Date(Date.now()-5*60*1e3).toISOString()},{id:"2",user_id:"user2",action:"transaction_created",details:{amount:500,crypto_type:"BTC",type:"deposit"},ip_address:"192.168.1.2",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",created_at:new Date(Date.now()-15*60*1e3).toISOString()},{id:"3",user_id:void 0,action:"system_error",details:{error:"Database connection timeout",severity:"high"},ip_address:"127.0.0.1",user_agent:"System/1.0",created_at:new Date(Date.now()-30*60*1e3).toISOString()},{id:"4",user_id:"admin1",action:"admin_action",details:{action:"user_banned",target_user:"user3"},ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",created_at:new Date(Date.now()-2*60*60*1e3).toISOString()}]),p(!1)},1e3)},[]);const g=s=>{switch(s){case"user_login":return e.jsx(z,{className:"w-4 h-4 text-green-500"});case"transaction_created":return e.jsx(m,{className:"w-4 h-4 text-blue-500"});case"system_error":return e.jsx(C,{className:"w-4 h-4 text-red-500"});case"admin_action":return e.jsx(E,{className:"w-4 h-4 text-purple-500"});default:return e.jsx(m,{className:"w-4 h-4 text-gray-500"})}},y=s=>{switch(s){case"user_login":return"text-green-600 bg-green-100";case"transaction_created":return"text-blue-600 bg-blue-100";case"system_error":return"text-red-600 bg-red-100";case"admin_action":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},N=s=>{switch(s){case"user_login":return"Connexion utilisateur";case"transaction_created":return"Transaction créée";case"system_error":return"Erreur système";case"admin_action":return"Action admin";default:return s}},x=r.filter(s=>{const n=s.action.toLowerCase().includes(c.toLowerCase())||s.details&&JSON.stringify(s.details).toLowerCase().includes(c.toLowerCase()),_=o==="all"||s.action===o;return n&&_});return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Logs Système"}),e.jsx("p",{className:"text-muted-foreground",children:"Surveillez l'activité de la plateforme"})]}),e.jsxs(d,{variant:"outline",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsxs(a,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Logs"})]})}),e.jsx(t,{children:e.jsxs(a,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.filter(s=>s.action==="user_login").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connexions"})]})}),e.jsx(t,{children:e.jsxs(a,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.filter(s=>s.action==="system_error").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Erreurs"})]})}),e.jsx(t,{children:e.jsxs(a,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.filter(s=>s.action==="admin_action").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Actions Admin"})]})})]})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(A,{placeholder:"Rechercher dans les logs...",value:c,onChange:s=>j(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:o,onChange:s=>f(s.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"all",children:"Toutes les actions"}),e.jsx("option",{value:"user_login",children:"Connexions"}),e.jsx("option",{value:"transaction_created",children:"Transactions"}),e.jsx("option",{value:"system_error",children:"Erreurs"}),e.jsx("option",{value:"admin_action",children:"Actions Admin"})]}),e.jsxs(d,{variant:"outline",size:"sm",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Filtrer"]})]})]})})})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(t,{children:[e.jsxs(v,{children:[e.jsxs(w,{children:["Logs Système (",x.length,")"]}),e.jsx(b,{children:"Historique des activités système"})]}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:x.map(s=>{var n;return e.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[g(s.action),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:N(s.action)}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(s.action)}`,children:s.action})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["IP: ",s.ip_address," • ",(n=s.user_agent)==null?void 0:n.substring(0,50),"..."]}),s.details&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Détails: ",JSON.stringify(s.details)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:S.formatDate(s.created_at)})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(d,{size:"sm",variant:"outline",children:e.jsx(L,{className:"w-4 h-4"})})})]},s.id)})})})]})})]})};export{k as SystemLogs};
//# sourceMappingURL=SystemLogs-qqhrrs0L.js.map
