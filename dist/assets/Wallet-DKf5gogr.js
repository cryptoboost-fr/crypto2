import{u as O,i as W,r as a,j as e,m as i,C as l,c as o,d as x,W as g,f as m,e as p,B as d,n as N}from"./index-CObHhl8H.js";import{I as u}from"./input-DnBYjSnk.js";import{C as Q}from"./copy-C4wV7n31.js";import{D as w}from"./download-App1X-K_.js";import{U as C}from"./upload-BD_erXyM.js";import{C as _}from"./clock-Cvptf0Hh.js";import{A as B}from"./alert-circle-C5iDK390.js";import{C as E}from"./check-circle-BOZoC8Ju.js";const G=()=>{const{user:t}=O(),{toast:c}=W(),[D,b]=a.useState([]),[h,S]=a.useState([]),[r,n]=a.useState(""),[j,y]=a.useState(""),[v,f]=a.useState(""),[q,A]=a.useState(!0);a.useEffect(()=>{setTimeout(()=>{b([{id:"1",crypto_type:"BTC",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",is_active:!0,created_at:new Date().toISOString()},{id:"2",crypto_type:"ETH",address:"0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",is_active:!0,created_at:new Date().toISOString()},{id:"3",crypto_type:"USDT",address:"TQn9Y2khDD95J42FQtQTdwVVRZqjqH3q6B",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=TQn9Y2khDD95J42FQtQTdwVVRZqjqH3q6B",is_active:!0,created_at:new Date().toISOString()}]),S([{id:"1",user_id:(t==null?void 0:t.id)||"",type:"deposit",crypto_type:"BTC",amount:.001,usd_value:500,status:"approved",fee_amount:1e-5,created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-2*24*60*60*1e3).toISOString()},{id:"2",user_id:(t==null?void 0:t.id)||"",type:"withdrawal",crypto_type:"ETH",amount:.5,usd_value:200,status:"pending",fee_amount:.005,created_at:new Date(Date.now()-1*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-1*24*60*60*1e3).toISOString()}]),A(!1)},1e3)},[t==null?void 0:t.id]);const T=s=>{navigator.clipboard.writeText(s),c("Adresse copiée !","success")},k=()=>{if(!j||!v||!r){c("Veuillez remplir tous les champs","error");return}c("Demande de retrait envoyée !","success"),y(""),f(""),n("")},z=s=>{switch(s){case"approved":return e.jsx(E,{className:"w-4 h-4 text-green-500"});case"pending":return e.jsx(_,{className:"w-4 h-4 text-yellow-500"});case"rejected":return e.jsx(B,{className:"w-4 h-4 text-red-500"});default:return e.jsx(_,{className:"w-4 h-4 text-gray-500"})}},I=s=>{switch(s){case"approved":return"Approuvé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return"Inconnu"}};return q?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Wallet Crypto"}),e.jsx("p",{className:"text-muted-foreground",children:"Gérez vos dépôts et retraits de cryptomonnaies"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map((s,R)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:R*.1},children:e.jsxs(l,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:s.crypto_type})]}),e.jsxs(m,{children:["Adresse de dépôt pour ",s.crypto_type]})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:s.qr_code_url,alt:`QR Code ${s.crypto_type}`,className:"w-32 h-32 border rounded-lg"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Adresse de dépôt"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{value:s.address,readOnly:!0,className:"font-mono text-xs"}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>T(s.address),children:e.jsx(Q,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Dépôt"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(s.crypto_type),children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Retrait"]})]})]})]})},s.id))}),r&&e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(l,{children:[e.jsxs(o,{children:[e.jsxs(x,{children:["Retrait ",r]}),e.jsxs(m,{children:["Retirez vos ",r," vers votre wallet externe"]})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Montant"}),e.jsx(u,{type:"number",placeholder:"0.00000000",value:j,onChange:s=>y(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Adresse de destination"}),e.jsx(u,{placeholder:`Adresse ${r}`,value:v,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{onClick:k,className:"flex-1",children:"Demander le retrait"}),e.jsx(d,{variant:"outline",onClick:()=>n(""),children:"Annuler"})]})]})]})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(l,{children:[e.jsxs(o,{children:[e.jsx(x,{children:"Transactions Récentes"}),e.jsx(m,{children:"Historique de vos dépôts et retraits"})]}),e.jsx(p,{children:h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucune transaction récente"})]}):e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.type==="deposit"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:s.type==="deposit"?e.jsx(w,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium capitalize",children:[s.type==="deposit"?"Dépôt":"Retrait"," ",s.crypto_type]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:N.formatCryptoAmount(s.amount,s.crypto_type,s.usd_value)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[z(s.status),e.jsx("span",{className:`text-sm font-medium ${s.status==="approved"?"text-green-600":s.status==="pending"?"text-yellow-600":"text-red-600"}`,children:I(s.status)})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:N.formatDate(s.created_at)})]})]},s.id))})})]})})]})};export{G as Wallet};
//# sourceMappingURL=Wallet-DKf5gogr.js.map
