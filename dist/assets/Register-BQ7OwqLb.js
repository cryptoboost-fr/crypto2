import{r,u as b,i as C,k as _,j as e,m as S,C as L,c as E,d as q,f as F,e as k,l as z,M as D,B as I,L as d}from"./index-CObHhl8H.js";import{I as o}from"./input-DnBYjSnk.js";import{L as x,E as h}from"./lock-D7MNHebX.js";import{E as f}from"./eye-CKZjzqXX.js";import{A as P}from"./arrow-right-DJd7IPV0.js";const V=()=>{const[s,j]=r.useState({email:"",password:"",confirm_password:"",full_name:""}),[n,N]=r.useState(!1),[l,v]=r.useState(!1),[u,p]=r.useState(!1),{signUp:w}=b(),{toast:i}=C(),y=_(),g=async a=>{a.preventDefault(),p(!0);try{const c=await w(s);c.error?i(c.error,"error"):(i("Compte créé avec succès ! Vérifiez votre email.","success"),y("/auth/login"))}catch{i("Une erreur est survenue","error")}finally{p(!1)}},t=a=>{j({...s,[a.target.name]:a.target.value})},m=()=>s.password!==s.confirm_password?"Les mots de passe ne correspondent pas":s.password.length<6?"Le mot de passe doit contenir au moins 6 caractères":s.full_name.trim()?null:"Le nom complet est requis";return e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(L,{className:"w-full max-w-md mx-auto",children:[e.jsxs(E,{className:"text-center",children:[e.jsx(q,{className:"text-2xl font-bold",children:"Créer un compte"}),e.jsx(F,{children:"Rejoignez CryptoBoost et commencez à maximiser vos profits"})]}),e.jsxs(k,{children:[e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"full_name",className:"text-sm font-medium",children:"Nom complet"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(o,{id:"full_name",name:"full_name",type:"text",placeholder:"Votre nom complet",value:s.full_name,onChange:t,required:!0,className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(o,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:s.email,onChange:t,required:!0,className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(o,{id:"password",name:"password",type:n?"text":"password",placeholder:"Votre mot de passe",value:s.password,onChange:t,required:!0,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",onClick:()=>N(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:n?e.jsx(h,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirm_password",className:"text-sm font-medium",children:"Confirmer le mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(o,{id:"confirm_password",name:"confirm_password",type:l?"text":"password",placeholder:"Confirmez votre mot de passe",value:s.confirm_password,onChange:t,required:!0,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",onClick:()=>v(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?e.jsx(h,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"})})]})]}),e.jsx(I,{type:"submit",variant:"gradient",className:"w-full",disabled:u||!!m(),children:u?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Création du compte..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Créer mon compte"}),e.jsx(P,{className:"w-4 h-4"})]})}),m()&&e.jsx("p",{className:"text-sm text-red-500 text-center",children:m()})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",e.jsx(d,{to:"/auth/login",className:"text-primary hover:underline font-medium",children:"Se connecter"})]})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["En créant un compte, vous acceptez nos"," ",e.jsx(d,{to:"/terms",className:"text-primary hover:underline",children:"conditions d'utilisation"})," ","et notre"," ",e.jsx(d,{to:"/privacy",className:"text-primary hover:underline",children:"politique de confidentialité"})]})})]})]})})};export{V as Register};
//# sourceMappingURL=Register-BQ7OwqLb.js.map
