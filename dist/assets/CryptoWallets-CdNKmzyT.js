import{i as H,r as i,j as e,m as n,C as p,e as u,B as c,c as _,d as C,f as b,W as q}from"./index-CObHhl8H.js";import{I as j}from"./input-DnBYjSnk.js";import{C as S}from"./check-circle-BOZoC8Ju.js";import{X as k}from"./x-circle-gEmDHBXj.js";import{P as V}from"./plus-BxMJE5Gy.js";import{S as M}from"./search-BUmQN2JN.js";import{R as P}from"./refresh-cw-Co5-T64g.js";import{C as $}from"./copy-C4wV7n31.js";import{S as U}from"./square-pen-zKtlmXHb.js";import{T as J}from"./trash-2-D96A3G_X.js";const ie=()=>{const{toast:l}=H(),[y,o]=i.useState([]),[w,D]=i.useState(!0),[v,m]=i.useState(null),[x,N]=i.useState(!1),[f,T]=i.useState(""),[h,W]=i.useState("all"),[a,d]=i.useState({crypto_type:"",address:"",is_active:!0});i.useEffect(()=>{setTimeout(()=>{o([{id:"1",crypto_type:"BTC",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",is_active:!0,created_at:new Date(Date.now()-30*24*60*60*1e3).toISOString()},{id:"2",crypto_type:"ETH",address:"0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6",is_active:!0,created_at:new Date(Date.now()-20*24*60*60*1e3).toISOString()},{id:"3",crypto_type:"USDT",address:"TQn9Y2khDD95J42FQtQTdwVVRZqjqH3q6B",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=TQn9Y2khDD95J42FQtQTdwVVRZqjqH3q6B",is_active:!1,created_at:new Date(Date.now()-10*24*60*60*1e3).toISOString()},{id:"4",crypto_type:"LTC",address:"ltc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",qr_code_url:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=ltc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",is_active:!0,created_at:new Date(Date.now()-5*24*60*60*1e3).toISOString()}]),D(!1)},1e3)},[]);const z=()=>{N(!1),d({crypto_type:"",address:"",is_active:!0}),m(null)},A=s=>{N(!0),d({crypto_type:s.crypto_type,address:s.address,is_active:s.is_active}),m(s)},I=()=>{if(!a.crypto_type||!a.address){l("Veuillez remplir tous les champs","error");return}if(x&&v)o(s=>s.map(t=>t.id===v.id?{...t,crypto_type:a.crypto_type,address:a.address,is_active:a.is_active,qr_code_url:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${a.address}`}:t)),l("Wallet mis à jour avec succès !","success");else{const s={id:Date.now().toString(),crypto_type:a.crypto_type,address:a.address,is_active:a.is_active,qr_code_url:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${a.address}`,created_at:new Date().toISOString()};o(t=>[...t,s]),l("Wallet ajouté avec succès !","success")}m(null),d({crypto_type:"",address:"",is_active:!0})},E=s=>{o(t=>t.filter(r=>r.id!==s)),l("Wallet supprimé !","success")},F=s=>{o(t=>t.map(r=>r.id===s?{...r,is_active:!r.is_active}:r)),l("Statut du wallet mis à jour !","success")},L=s=>{navigator.clipboard.writeText(s),l("Adresse copiée !","success")},Q=s=>s?"Actif":"Inactif",R=s=>s?"text-green-600 bg-green-100":"text-red-600 bg-red-100",g=y.filter(s=>{const t=s.crypto_type.toLowerCase().includes(f.toLowerCase())||s.address.toLowerCase().includes(f.toLowerCase()),r=h==="all"||h==="active"&&s.is_active||h==="inactive"&&!s.is_active;return t&&r}),B=y.filter(s=>s.is_active).length,O=y.filter(s=>!s.is_active).length;return w?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-crypto-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Wallets Crypto"}),e.jsx("p",{className:"text-muted-foreground",children:"Configurez les adresses de dépôt pour chaque cryptomonnaie"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(p,{className:"border-green-200 bg-green-50",children:e.jsx(u,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700",children:"Wallets Actifs"}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:B})]}),e.jsx(S,{className:"w-8 h-8 text-green-600"})]})})})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(p,{className:"border-red-200 bg-red-50",children:e.jsx(u,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-700",children:"Wallets Inactifs"}),e.jsx("p",{className:"text-2xl font-bold text-red-800",children:O})]}),e.jsx(k,{className:"w-8 h-8 text-red-600"})]})})})})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx(p,{children:e.jsx(u,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs(c,{onClick:z,className:"md:w-auto",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Ajouter un Wallet"]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(j,{placeholder:"Rechercher par crypto ou adresse...",value:f,onChange:s=>T(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:h,onChange:s=>W(s.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"active",children:"Actifs"}),e.jsx("option",{value:"inactive",children:"Inactifs"})]}),e.jsx(c,{variant:"outline",size:"sm",children:e.jsx(P,{className:"w-4 h-4"})})]})]})})})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:e.jsxs(p,{children:[e.jsxs(_,{children:[e.jsxs(C,{children:["Wallets (",g.length,")"]}),e.jsx(b,{children:"Liste des adresses de dépôt configurées"})]}),e.jsx(u,{children:g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(q,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucun wallet trouvé"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-5 h-5 text-crypto-primary"}),e.jsx("h3",{className:"font-medium",children:s.crypto_type})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(s.is_active)}`,children:Q(s.is_active)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:s.qr_code_url,alt:`QR Code ${s.crypto_type}`,className:"w-24 h-24 border rounded-lg"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:s.address,readOnly:!0,className:"font-mono text-xs"}),e.jsx(c,{size:"sm",variant:"outline",onClick:()=>L(s.address),children:e.jsx($,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>A(s),className:"flex-1",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),"Modifier"]}),e.jsx(c,{size:"sm",variant:s.is_active?"destructive":"default",onClick:()=>F(s.id),className:"flex-1",children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),"Désactiver"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),"Activer"]})})]}),e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>E(s.id),className:"w-full",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Supprimer"]})]})]},s.id))})})]})}),v!==null||!x?e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>m(null),children:e.jsxs(p,{className:"w-full max-w-md",onClick:s=>s.stopPropagation(),children:[e.jsxs(_,{children:[e.jsx(C,{children:x?"Modifier le Wallet":"Ajouter un Wallet"}),e.jsx(b,{children:x?"Modifiez les informations du wallet":"Configurez un nouveau wallet crypto"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Type de crypto"}),e.jsx(j,{placeholder:"BTC, ETH, USDT...",value:a.crypto_type,onChange:s=>d(t=>({...t,crypto_type:s.target.value.toUpperCase()}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Adresse"}),e.jsx(j,{placeholder:"Adresse de dépôt",value:a.address,onChange:s=>d(t=>({...t,address:s.target.value}))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:s=>d(t=>({...t,is_active:s.target.checked})),className:"rounded"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium",children:"Wallet actif"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{onClick:I,className:"flex-1",children:x?"Mettre à jour":"Ajouter"}),e.jsx(c,{variant:"outline",onClick:()=>m(null),children:"Annuler"})]})]})]})}):null]})};export{ie as CryptoWallets};
//# sourceMappingURL=CryptoWallets-CdNKmzyT.js.map
