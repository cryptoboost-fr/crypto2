import{g as L,u as O,i as M,r as t,j as e,m as d,C as o,c as x,d as h,f as u,e as j,n as l,B as D,T as q}from"./index-CObHhl8H.js";import{I as R}from"./input-DnBYjSnk.js";import{A as F}from"./arrow-right-DJd7IPV0.js";import{R as $}from"./refresh-cw-Co5-T64g.js";import{C as P}from"./check-circle-BOZoC8Ju.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=L("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Z=()=>{var C,T;const{user:J}=O(),{toast:m}=M(),[a,p]=t.useState("BTC"),[n,f]=t.useState("ETH"),[i,g]=t.useState(""),[y,H]=t.useState(0),[U,N]=t.useState(0),[v,b]=t.useState(!1),[r,k]=t.useState([]);t.useEffect(()=>{k([{symbol:"BTC",price:45e3,change24h:2.5,volume24h:25e9},{symbol:"ETH",price:3200,change24h:-1.2,volume24h:15e9},{symbol:"USDT",price:1,change24h:.01,volume24h:5e10},{symbol:"USDC",price:1,change24h:.02,volume24h:3e10},{symbol:"LTC",price:120,change24h:3.1,volume24h:2e9}])},[]),t.useEffect(()=>{var E,S;const s=((E=r.find(c=>c.symbol===a))==null?void 0:E.price)||0,w=((S=r.find(c=>c.symbol===n))==null?void 0:S.price)||0;if(s&&w){const c=w/s;if(H(c),i){const V=parseFloat(i)*c;N(V)}}},[a,n,i,r]);const z=async()=>{if(!i||parseFloat(i)<=0){m("Veuillez entrer un montant valide","error");return}if(a===n){m("Vous ne pouvez pas échanger la même crypto","error");return}b(!0),setTimeout(()=>{m("Échange effectué avec succès !","success"),g(""),N(0),b(!1)},2e3)},A=()=>{const s=a;p(n),f(s)},B=s=>s>=0?"text-green-600":"text-red-600",I=s=>s>=0?e.jsx(q,{className:"w-4 h-4 text-green-600"}):e.jsx(G,{className:"w-4 h-4 text-red-600"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Échange Crypto"}),e.jsx("p",{className:"text-muted-foreground",children:"Échangez vos cryptomonnaies en temps réel"})]}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Effectuer un échange"}),e.jsx(u,{children:"Taux de change en temps réel"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Vous envoyez"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("select",{value:a,onChange:s=>p(s.target.value),className:"px-3 py-2 border rounded-md text-sm flex-1",children:r.map(s=>e.jsx("option",{value:s.symbol,children:s.symbol},s.symbol))}),e.jsx(R,{type:"number",placeholder:"0.00000000",value:i,onChange:s=>g(s.target.value),className:"flex-1"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prix: ",l.formatEUR(((C=r.find(s=>s.symbol===a))==null?void 0:C.price)||0)]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(D,{variant:"outline",size:"sm",onClick:A,className:"rounded-full w-10 h-10 p-0",children:e.jsx(F,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Vous recevez"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("select",{value:n,onChange:s=>f(s.target.value),className:"px-3 py-2 border rounded-md text-sm flex-1",children:r.map(s=>e.jsx("option",{value:s.symbol,children:s.symbol},s.symbol))}),e.jsx(R,{value:U.toFixed(8),readOnly:!0,className:"flex-1 bg-gray-50"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prix: ",l.formatEUR(((T=r.find(s=>s.symbol===n))==null?void 0:T.price)||0)]})]}),y>0&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Taux de change"}),e.jsxs("span",{className:"text-sm",children:["1 ",a," = ",y.toFixed(8)," ",n]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Frais d'échange"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"0.1%"})]})]}),e.jsx(D,{onClick:z,disabled:v||!i||a===n,className:"w-full",children:v?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 mr-2 animate-spin"}),"Traitement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Effectuer l'échange"]})})]})]})}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Prix du Marché"}),e.jsx(u,{children:"Prix en temps réel des principales cryptomonnaies"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-crypto-primary rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:s.symbol})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.symbol}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vol: ",l.formatCurrency(s.volume24h/1e6),"M"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:l.formatEUR(s.price)}),e.jsxs("div",{className:"flex items-center space-x-1",children:[I(s.change24h),e.jsxs("span",{className:`text-sm ${B(s.change24h)}`,children:[s.change24h>=0?"+":"",s.change24h.toFixed(2),"%"]})]})]})]},s.symbol))})})]})}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Échanges Récents"}),e.jsx(u,{children:"Historique de vos derniers échanges"})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"BTC → ETH"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"0.001 BTC → 0.032 ETH"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:"Terminé"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.formatDate(new Date(Date.now()-2*60*60*1e3).toISOString())})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"ETH → USDT"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"0.5 ETH → 1600 USDT"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium",children:"Terminé"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.formatDate(new Date(Date.now()-24*60*60*1e3).toISOString())})]})]})]})})]})})]})};export{Z as Exchange};
//# sourceMappingURL=Exchange-kLccNcxY.js.map
